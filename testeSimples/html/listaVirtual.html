<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista Virtual</title>

    <style>
        body {
            background-color: #212121;
            color: aliceblue;

            display: grid;
            place-content: center;
        }

        ul {
            overflow: auto;
        }
    </style>
</head>
<body>
    

    <script>

        const largura = window.innerHeightWidth
        const altura  = window.outerHeight

        console.log(altura, largura)

        const linhas = 15
        const maximo = 30
        const limit = linhas * maximo

        console.log(limit);

        const dados = Array.from({length: maximo},(_, itens) => itens + 1)
        console.log(dados);
        
        const listaHtml = document.createElement('ul')
        listaHtml.style.width  = 1000 - 530 + "px"
        listaHtml.style.height = maximo * linhas + "px"
        listaHtml.setAttribute("id", "ul-lista")

        document.querySelector('body').appendChild(listaHtml)
        
        
        let mouseScroll = 0

        document.querySelector('#ul-lista').addEventListener('scroll', (e) => {
            mouseScroll = e.currentTarget.scrollTop
            console.log('scroll', mouseScroll);
            
            lista(dados)

        })

        let htmlLista = ''

        function lista(numLinhas) {
            
            for(let i=1;i<numLinhas.length;i++) {
                let counter = i * 2

                htmlLista += `
                    <li>
                        <span>index: ${i}</span>
                        <p>contar: ${counter}</p>
                    </li>
                ` 
            }
        }

        
        lista(dados)
        // console.log(htmlLista);
        
        // document.querySelector('ul').innerHTML = htmlLista.slice(0, limit)
        document.querySelector('ul').innerHTML = htmlLista

        
    </script>
    
</body>
</html>